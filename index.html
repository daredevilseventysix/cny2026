<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Charlotte's CNY Fortune</title>

<style>

/* === Bounce when fortune appears === */
@keyframes bounce {
  0%   { transform: translateX(-50%) translateY(-30px) rotate(-2deg); }
  50%  { transform: translateX(-50%) translateY(-10px) rotate(2deg); }
  70%  { transform: translateX(-50%) translateY(-20px) rotate(-1deg); }
  100% { transform: translateX(-50%) translateY(0) rotate(0deg); }
}

/* Apply bounce animation only when .bounce class is added */
.fortune.bounce {
  animation: dropIn 0.6s ease-out, bounce 0.8s ease-out;
}

/* === Sparkle effect for rare fortunes === */
@keyframes sparkle {
  0%   { opacity: 0; transform: scale(0.5) rotate(0deg); }
  50%  { opacity: 1; transform: scale(1) rotate(180deg); }
  100% { opacity: 0; transform: scale(0.5) rotate(360deg); }
}

/* Sparkle element styling */
.sparkle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: gold;
  border-radius: 50%;
  pointer-events: none;
  animation: sparkle 0.8s linear infinite;
  z-index: 10;
}

/* Angpow Link Style */
a {
  color: gold;
  font-weight: bold;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.sparkle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: gold;
  border-radius: 50%;
  pointer-events: none;
  animation: sparkle 0.8s linear infinite;
  z-index: 10;
}

/* Optional: make lucky number sparkle/glow */
.lucky-number {
  display: block;
  margin-top: 8px;
  font-size: 34px;
  color: #b30000;
  letter-spacing: 3px;
  text-shadow: 0 0 8px gold, 0 0 12px #ffec8b;
}

body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #000;
  color: white;
}

/* Main dog image */
#bgImage {
  width: 100%;
  height: auto;
  display: block;
}

/* Content section */
.content {
  text-align: center;
  padding: 20px;
}

/* QR */
#qrCode {
  max-width: 240px;
  border: 5px solid gold;
  border-radius: 12px;
}

/* Button */
button {
  margin-top: 20px;
  padding: 12px 24px;
  font-size: 18px;
  background: gold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:disabled {
  background: #bbb;
  cursor: not-allowed;
}

/* === DOG HOLDING PAPER CARD === */
.fortune {
  position: fixed;
  left: 50%;
  bottom: 18%;   /* adjust this to match paws */
  transform: translateX(-50%) rotate(-2deg);

  width: 320px;
  padding: 16px;

  background: #fff8dc;
  color: #333;
  border: 3px solid #caa400;
  border-radius: 10px;

  font-weight: bold;
  text-align: center;

  box-shadow: 0 10px 25px rgba(0,0,0,0.4);

  display: none;
  z-index: 5;

  animation: dropIn 0.6s ease-out;
}

@keyframes dropIn {
  from { transform: translateX(-50%) translateY(-40px) rotate(-6deg); opacity: 0; }
  to { transform: translateX(-50%) translateY(0) rotate(-2deg); opacity: 1; }
}

.lucky-number {
  display: block;
  margin-top: 8px;
  font-size: 34px;
  color: #b30000;
  letter-spacing: 3px;
}

/* Fireworks canvas */
canvas {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 9999;
}
</style>
</head>

<body>

<img id="bgImage" src="beforefortune.png">

<div class="content">
  <h1>ğŸ§§ Charlotte's CNY Fortune ğŸ§§</h1>
  <p id="fortuneHint"></p>

  <img id="qrCode" src="tng_qr.png">

  <br>
  <button id="fortuneButton" onclick="showFortune()">Reveal My Fortune ğŸ‰</button>
</div>

<div id="fortune" class="fortune"></div>

<canvas id="confetti-canvas"></canvas>

<script>

const charlotteReactions = [
  "ğŸ¾ Charlotte wagged happily.",
  "ğŸ¶ Charlotte thinks you deserve snacks today.",
  "ğŸ• Charlotte is proud of you. Yes, you.",
  "ğŸ¾ Tail wag confirmed.",
  "ğŸ¶ Charlotte approves this energy.",
  "ğŸ• Charlotte would follow you anywhere this year."
];

// Fire Horse Fortunes â€” Dog & Cat Edition
const fortunes = [
  // ğŸ• Dog POV
  "ğŸ• I wag for a reason â€” this is not your waiting year.",
  "ğŸ• Trust me, hooman. Move first. Treats follow.",
  "ğŸ• I chased it. It ran. Youâ€™ll catch yours too.",
  "ğŸ• Sniff the moment. Act now.",
  "ğŸ• I donâ€™t hesitate â€” neither should you this year.",
  "ğŸ• The Fire Horse likes confidence. I like snacks. Same rule.",
  "ğŸ• Stop sitting. Start running. Luck keeps up.",
  "ğŸ• I see momentum. It smells good on you.",
  "ğŸ• Bark once. The door opens.",
  "ğŸ• This year responds to bold energy â€” like me at dinner time.",
  "ğŸ• No permission needed. I never ask before zoomies.",
  "ğŸ• The slow path? I dug it up and buried it.",
  "ğŸ• One brave step. Tail up. Go.",
  "ğŸ• Youâ€™re faster than last year â€” I can tell.",

  "ğŸ• Chase it now. Thinking is for later.",
  "ğŸ• Fire Horse year = zoomies year.",
  "ğŸ• If it scares you a little, itâ€™s probably right.",
  "ğŸ• I approve this risky move.",
  "ğŸ• Momentum loves confidence. I love walks.",
  "ğŸ• Start strong. Nap later.",
  "ğŸ• I donâ€™t look back when I run â€” neither should you.",
  "ğŸ• Your timing smellsâ€¦ perfect.",
  "ğŸ• One decision. Big payoff.",
  "ğŸ• I sense progress. Also chicken nearby.",
  "ğŸ• This year rewards brave hoomans.",
  "ğŸ• Donâ€™t overthink. I never do.",
  "ğŸ• Fire energy means GO, not maybe.",
  "ğŸ• I barked. Things moved. You can too.",
  "ğŸ• Youâ€™re meant to be seen this year â€” like me at the park.",

  "ğŸ• Less explaining. More doing.",
  "ğŸ• Confidence suits you. Like my red CNY pouch.",
  "ğŸ• Run toward it. Iâ€™ll guard your luck.",
  "ğŸ• If you hesitate, Iâ€™ll gently nudge you forward.",
  "ğŸ• Youâ€™re aligned. I feel it in my paws.",
  "ğŸ• One bold move changes the whole walk.",
  "ğŸ• This year moves fast â€” keep up.",
  "ğŸ• Youâ€™ll surprise them. I already know.",
  "ğŸ• Fire Horse energy approves this choice.",
  "ğŸ• Action clears confusion. Also squirrels.",
  "ğŸ• Start now. The year is already running.",
  "ğŸ• I see opportunity. I chase opportunity.",
  "ğŸ• Donâ€™t sit. Stay is cancelled.",
  "ğŸ• Youâ€™ve waited long enough. Treat time.",
  "ğŸ• Move with confidence â€” like I own the street.",
  "ğŸ• This year likes leaders. You smell like one.",
  "ğŸ• I ran ahead to check â€” youâ€™re safe to go.",
  "ğŸ• The path opens when you commit.",
  "ğŸ• Momentum is your new luck charm.",
  "ğŸ• Follow your instinct. Mine never fails.",
  "ğŸ• Angpow received. Fortune activated. ğŸ¾ğŸ§§",

  // ğŸ± Cat POV (20%)
  "ğŸ± I stared at it until it happened. Try that.",
  "ğŸ± If I jumped, I already calculated the landing.",
  "ğŸ± Fire Horse year. I knock things off shelves on purpose.",
  "ğŸ± Confidence is silent. Watch me walk away.",
  "ğŸ± Move when you feel like it â€” but mean it.",
  "ğŸ± I nap because Iâ€™ve already won.",
  "ğŸ± Risk first. Groom later.",
  "ğŸ± I chose this path. Naturally, it worked.",
  "ğŸ± If it interests you, itâ€™s meant for you.",
  "ğŸ± I donâ€™t chase luck. Luck follows me.",

];
  
  // ğŸŒŸ Special Animal Fortunes (Rare)
const specialFortunes = [
  "ğŸ¦™ Alpaca says: Stay calm. Your softness is your superpower.",
  "ğŸ¹ Hamster says: Small steps, big momentum. Keep going.",
  "ğŸ¦œ Parrot says: Speak up. Your voice opens doors this year.",
  "ğŸ¦¦ Otter says: Joy attracts luck. Have fun with it.",
  "ğŸŸ Fish says: Go with the flow â€” abundance is surrounding you.",
  "ğŸ Horse says: Run boldly. This year was made for you."
];


function playCNYSound() {
  const gong = document.getElementById("gongSFX");
  gong.volume = 0.9;      // important for Android
  gong.currentTime = 0;
  gong.play().catch(() => {});
}




function showFortune() {
  // ğŸ” Scroll back to top
  window.scrollTo({
    top: 0,
    behavior: "smooth"
  });

  // ğŸµ Play festive sound
  playCNYSound();

  let f;

  // 10% chance for special animal fortune
  if (Math.random() < 0.1) {
    f = specialFortunes[Math.floor(Math.random() * specialFortunes.length)];
  } else {
    f = fortunes[Math.floor(Math.random() * fortunes.length)];
  }

  const num = Math.floor(1000 + Math.random() * 9000);

  const box = document.getElementById("fortune");

  // Only show the main fortune + lucky number
  box.innerHTML = `
    ğŸ§§ Charlotte's Fortune ğŸ§§<br><br>
    ${f}<br><br>
    <div style="font-size:14px; margin-top:8px;">
      Charlotte tucked this number into your angpow
    </div>
    <span class="lucky-number">ğŸ§§ ${num} ğŸ§§</span>
    <div style="font-size:12px; margin-top:10px; opacity:0.7;">
      Screenshot if this made you smile ğŸ¾
    </div>
  `;

  box.style.display = "block";

  // Add bounce animation
  box.classList.add("bounce");

  // ğŸŒŸ Rare sparkle for special fortune
  if (specialFortunes.includes(f)) {
    for (let i = 0; i < 8; i++) {
      const s = document.createElement("div");
      s.className = "sparkle";
      s.style.top = `${Math.random() * 100}%`;
      s.style.left = `${Math.random() * 100}%`;
      box.appendChild(s);
    }
  }

  document.getElementById("fortuneButton").disabled = true;
  document.getElementById("bgImage").src = "afterfortune.jpg";

  launchFireworks();
}




/* Lighter fireworks */
function launchFireworks() {
  const canvas = document.getElementById("confetti-canvas");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const parts = [];

  function burst(x,y){
    for(let i=0;i<25;i++){
      parts.push({
        x,y,
        dx:(Math.random()-0.5)*6,
        dy:(Math.random()-0.5)*6,
        life:60
      });
    }
  }

  setInterval(()=>burst(
    Math.random()*canvas.width,
    canvas.height*0.5 + Math.random()*200
  ),800);

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    parts.forEach(p=>{
      p.x+=p.dx;
      p.y+=p.dy;
      p.life--;
      ctx.fillRect(p.x,p.y,3,3);
    });
    for(let i=parts.length-1;i>=0;i--){
      if(parts[i].life<=0) parts.splice(i,1);
    }
    requestAnimationFrame(draw);
  }
  draw();
}

const hints = [
  `Scan if you feel like it â€” Charlotte might have a fortune for you ğŸ¾<br>
   Or donate angpow here ğŸ‘‰ <a href="https://payment.tngdigital.com.my/sc/bDLookb79F" target="_blank">Send Angpow â¤ï¸</a>`,

  `No pressure. Scan if you want a fortune (Charlotte insists)<br>
   Or donate angpow ğŸ‘‰ <a href="https://payment.tngdigital.com.my/sc/bDLookb79F" target="_blank">Send Angpow â¤ï¸</a>`,

  `Scan for a fortune. Or donâ€™t. Charlotte will still judge you lovingly.<br>
   Angpow option ğŸ‘‰ <a href="https://payment.tngdigital.com.my/sc/bDLookb79F" target="_blank">Send Angpow â¤ï¸</a>`,

  `Scan for a fortune. Snacks not required (but appreciated).<br>
   Or send angpow here ğŸ‘‰ <a href="https://payment.tngdigital.com.my/sc/bDLookb79F" target="_blank">Send Angpow â¤ï¸</a>`,

  `Scan if youâ€™d like a little CNY luck ğŸ§§<br>
   Or tap here to send angpow ğŸ‘‰ <a href="https://payment.tngdigital.com.my/sc/bDLookb79F" target="_blank">Send Angpow â¤ï¸</a>`
];


const hintElement = document.getElementById("fortuneHint");
hintElement.innerHTML = hints[Math.floor(Math.random() * hints.length)];

</script>

<!-- ğŸµ CNY Sound Effects -->
<audio id="gongSFX" preload="auto">
  <source src="https://www.orangefreesounds.com/wp-content/uploads/2015/09/Chinese-gong-sound.mp3" type="audio/mpeg">
</audio>

</body>
</html>



