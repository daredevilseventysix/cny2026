<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Charlotte's CNY Fortune</title>

<body onclick="unlockAudio()">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #000;
  color: white;
}

/* Main dog image */
#bgImage {
  width: 100%;
  height: auto;
  display: block;
}

/* Content section */
.content {
  text-align: center;
  padding: 20px;
}

/* QR */
#qrCode {
  max-width: 240px;
  border: 5px solid gold;
  border-radius: 12px;
}

/* Button */
button {
  margin-top: 20px;
  padding: 12px 24px;
  font-size: 18px;
  background: gold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:disabled {
  background: #bbb;
  cursor: not-allowed;
}

/* === DOG HOLDING PAPER CARD === */
.fortune {
  position: fixed;
  left: 50%;
  bottom: 18%;   /* adjust this to match paws */
  transform: translateX(-50%) rotate(-2deg);

  width: 320px;
  padding: 16px;

  background: #fff8dc;
  color: #333;
  border: 3px solid #caa400;
  border-radius: 10px;

  font-weight: bold;
  text-align: center;

  box-shadow: 0 10px 25px rgba(0,0,0,0.4);

  display: none;
  z-index: 5;

  animation: dropIn 0.6s ease-out;
}

@keyframes dropIn {
  from { transform: translateX(-50%) translateY(-40px) rotate(-6deg); opacity: 0; }
  to { transform: translateX(-50%) translateY(0) rotate(-2deg); opacity: 1; }
}

.lucky-number {
  display: block;
  margin-top: 8px;
  font-size: 34px;
  color: #b30000;
  letter-spacing: 3px;
}

/* Fireworks canvas */
canvas {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 9999;
}
</style>
</head>

<body>

<img id="bgImage" src="beforefortune.png">

<div class="content">
  <h1>üßß Charlotte's CNY Fortune üßß</h1>
  <p id="fortuneHint"></p>

  <img id="qrCode" src="tng_qr.png">

  <br>
  <button id="fortuneButton" onclick="showFortune()">Reveal My Fortune üéâ</button>
</div>

<div id="fortune" class="fortune"></div>

<canvas id="confetti-canvas"></canvas>

<script>
// Fire Horse Fortunes ‚Äî Dog & Cat Edition
const fortunes = [
  // üêï Dog POV
  "üêï I wag for a reason ‚Äî this is not your waiting year.",
  "üêï Trust me, hooman. Move first. Treats follow.",
  "üêï I chased it. It ran. You‚Äôll catch yours too.",
  "üêï Sniff the moment. Act now.",
  "üêï I don‚Äôt hesitate ‚Äî neither should you this year.",
  "üêï The Fire Horse likes confidence. I like snacks. Same rule.",
  "üêï Stop sitting. Start running. Luck keeps up.",
  "üêï I see momentum. It smells good on you.",
  "üêï Bark once. The door opens.",
  "üêï This year responds to bold energy ‚Äî like me at dinner time.",
  "üêï No permission needed. I never ask before zoomies.",
  "üêï The slow path? I dug it up and buried it.",
  "üêï One brave step. Tail up. Go.",
  "üêï You‚Äôre faster than last year ‚Äî I can tell.",

  "üêï Chase it now. Thinking is for later.",
  "üêï Fire Horse year = zoomies year.",
  "üêï If it scares you a little, it‚Äôs probably right.",
  "üêï I approve this risky move.",
  "üêï Momentum loves confidence. I love walks.",
  "üêï Start strong. Nap later.",
  "üêï I don‚Äôt look back when I run ‚Äî neither should you.",
  "üêï Your timing smells‚Ä¶ perfect.",
  "üêï One decision. Big payoff.",
  "üêï I sense progress. Also chicken nearby.",
  "üêï This year rewards brave hoomans.",
  "üêï Don‚Äôt overthink. I never do.",
  "üêï Fire energy means GO, not maybe.",
  "üêï I barked. Things moved. You can too.",
  "üêï You‚Äôre meant to be seen this year ‚Äî like me at the park.",

  "üêï Less explaining. More doing.",
  "üêï Confidence suits you. Like my red CNY pouch.",
  "üêï Run toward it. I‚Äôll guard your luck.",
  "üêï If you hesitate, I‚Äôll gently nudge you forward.",
  "üêï You‚Äôre aligned. I feel it in my paws.",
  "üêï One bold move changes the whole walk.",
  "üêï This year moves fast ‚Äî keep up.",
  "üêï You‚Äôll surprise them. I already know.",
  "üêï Fire Horse energy approves this choice.",
  "üêï Action clears confusion. Also squirrels.",
  "üêï Start now. The year is already running.",
  "üêï I see opportunity. I chase opportunity.",
  "üêï Don‚Äôt sit. Stay is cancelled.",
  "üêï You‚Äôve waited long enough. Treat time.",
  "üêï Move with confidence ‚Äî like I own the street.",
  "üêï This year likes leaders. You smell like one.",
  "üêï I ran ahead to check ‚Äî you‚Äôre safe to go.",
  "üêï The path opens when you commit.",
  "üêï Momentum is your new luck charm.",
  "üêï Follow your instinct. Mine never fails.",
  "üêï Angpow received. Fortune activated. üêæüßß",

  // üê± Cat POV (20%)
  "üê± I stared at it until it happened. Try that.",
  "üê± If I jumped, I already calculated the landing.",
  "üê± Fire Horse year. I knock things off shelves on purpose.",
  "üê± Confidence is silent. Watch me walk away.",
  "üê± Move when you feel like it ‚Äî but mean it.",
  "üê± I nap because I‚Äôve already won.",
  "üê± Risk first. Groom later.",
  "üê± I chose this path. Naturally, it worked.",
  "üê± If it interests you, it‚Äôs meant for you.",
  "üê± I don‚Äôt chase luck. Luck follows me.",

];
  
  // üåü Special Animal Fortunes (Rare)
const specialFortunes = [
  "ü¶ô Alpaca says: Stay calm. Your softness is your superpower.",
  "üêπ Hamster says: Small steps, big momentum. Keep going.",
  "ü¶ú Parrot says: Speak up. Your voice opens doors this year.",
  "ü¶¶ Otter says: Joy attracts luck. Have fun with it.",
  "üêü Fish says: Go with the flow ‚Äî abundance is surrounding you.",
  "üêé Horse says: Run boldly. This year was made for you."
];

function unlockAudio() {
  document.getElementById("firecrackerSFX").play().then(a => {
    document.getElementById("firecrackerSFX").pause();
    document.getElementById("firecrackerSFX").currentTime = 0;
  }).catch(()=>{});

  document.getElementById("gongSFX").play().then(a => {
    document.getElementById("gongSFX").pause();
    document.getElementById("gongSFX").currentTime = 0;
  }).catch(()=>{});
}

function playCNYSound() {
  const firecracker = document.getElementById("firecrackerSFX");
  const gong = document.getElementById("gongSFX");
  
  // 50% chance each
  if (Math.random() < 0.5) firecracker.play().catch(err=>console.log(err));
  if (Math.random() < 0.5) gong.play().catch(err=>console.log(err));
}



function showFortune() {
  // üîù Scroll back to top
  window.scrollTo({
    top: 0,
    behavior: "smooth"
  });

// üéµ Play festive sound
playCNYSound();

  let f;

  // 10% chance for special animal fortune
  if (Math.random() < 0.1) {
    f = specialFortunes[Math.floor(Math.random() * specialFortunes.length)];
  } else {
    f = fortunes[Math.floor(Math.random() * fortunes.length)];
  }

  const num = Math.floor(1000 + Math.random() * 9000);

  const box = document.getElementById("fortune");
  box.innerHTML = `
    üßß Charlotte's Fortune üßß<br><br>
    ${f}
    <span class="lucky-number">üçÄ ${num} üçÄ</span>
  `;
  box.style.display = "block";

  document.getElementById("fortuneButton").disabled = true;
  document.getElementById("bgImage").src = "afterfortune.jpg";

  launchFireworks();
}



/* Lighter fireworks */
function launchFireworks() {
  const canvas = document.getElementById("confetti-canvas");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const parts = [];

  function burst(x,y){
    for(let i=0;i<25;i++){
      parts.push({
        x,y,
        dx:(Math.random()-0.5)*6,
        dy:(Math.random()-0.5)*6,
        life:60
      });
    }
  }

  setInterval(()=>burst(
    Math.random()*canvas.width,
    canvas.height*0.5 + Math.random()*200
  ),800);

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    parts.forEach(p=>{
      p.x+=p.dx;
      p.y+=p.dy;
      p.life--;
      ctx.fillRect(p.x,p.y,3,3);
    });
    for(let i=parts.length-1;i>=0;i--){
      if(parts[i].life<=0) parts.splice(i,1);
    }
    requestAnimationFrame(draw);
  }
  draw();
}

const hints = [
  "Scan if you feel like it ‚Äî Charlotte might have a fortune for you üêæ",
  "No pressure. Scan if you want a fortune (Charlotte insists)",
  "Scan for a fortune. Or don‚Äôt. Charlotte will still judge you lovingly.",
  "Scan for a fortune. Snacks not required (but appreciated).",
  "Scan for a fortune. Charlotte worked very hard on these.",
  "Scan to see what Charlotte thinks of your year üëÄüêï",
  "Scan if you‚Äôd like a little CNY luck üßß",
  "A small scan for you, a big fortune from Charlotte üêæ",
  "Scan for a festive fortune ‚Äî just for fun!"
];

const hintElement = document.getElementById("fortuneHint");
hintElement.textContent = hints[Math.floor(Math.random() * hints.length)];

</script>

<!-- üéµ CNY Sound Effects -->
<audio id="firecrackerSFX" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2021/08/04/audio_0c2c9f7f0c.mp3" type="audio/mpeg">
</audio>




<audio id="gongSFX" preload="auto">
  <source src="https://www.orangefreesounds.com/wp-content/uploads/2015/09/Chinese-gong-sound.mp3" type="audio/mpeg">
</audio>

</body>
</html>



